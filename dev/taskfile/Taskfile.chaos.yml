version: '3'

includes:
  pod:
    taskfile: Taskfile.chaos.pod.yml
  network:
    taskfile: Taskfile.chaos.network.yml
tasks:
  show-experiment-status:
    desc: Show the status of the pod chaos experiment
    vars:
      NAME: "{{.NAME}}"
      TYPE: "{{.TYPE}}"
    cmds:
      - echo "üîç Fetching {{.TYPE}} status..."
      - kubectl get events --field-selector involvedObject.kind={{.TYPE}},involvedObject.name={{.NAME}} -n chaos-mesh
